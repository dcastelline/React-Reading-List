{"ast":null,"code":"import _objectSpread from\"/Users/Daniel/Desktop/UTA-AUS-FSF-FT-12-2020-U-C/21-MERN/01-Activities/05-Stu_ReactRouter/Unsolved/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/Daniel/Desktop/UTA-AUS-FSF-FT-12-2020-U-C/21-MERN/01-Activities/05-Stu_ReactRouter/Unsolved/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import DeleteBtn from\"../components/DeleteBtn\";import Jumbotron from\"../components/Jumbotron\";import API from\"../utils/API\";import{Link}from\"react-router-dom\";import{Col,Row,Container}from\"../components/Grid\";import{List,ListItem}from\"../components/List\";import{Input,TextArea,FormBtn}from\"../components/Form\";function Books(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];var _useState3=useState({title:\"\",author:\"\",synopsis:\"\"}),_useState4=_slicedToArray(_useState3,2),formObject=_useState4[0],setFormObject=_useState4[1];useEffect(function(){loadBooks();},[]);function loadBooks(){API.getBooks().then(function(res){return setBooks(res.data);}).catch(function(err){return console.log(err);});};function deleteBook(id){API.deleteBook(id).then(function(res){return loadBooks();}).catch(function(err){return console.log(err);});}function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormObject(_objectSpread(_objectSpread({},formObject),{},{[name]:value}));};function handleFormSubmit(event){event.preventDefault();if(formObject.title&&formObject.author){API.saveBook({title:formObject.title,author:formObject.author,synopsis:formObject.synopsis}).then(function(){return setFormObject({title:\"\",author:\"\",synopsis:\"\"});}).then(function(res){return loadBooks();}).catch(function(err){return console.log(err);});}};function deleteBook(id){// add code here to remove a book using API\nAPI.deleteBook(id).then(function(res){return loadBooks();}).catch(function(err){return console.log(err);});}return/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"md-6\"},/*#__PURE__*/React.createElement(Jumbotron,null,/*#__PURE__*/React.createElement(\"h1\",null,\"What Books Should I Read?\")),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(Input,{onChange:handleInputChange,name:\"title\",placeholder:\"Title (required)\",value:formObject.title}),/*#__PURE__*/React.createElement(Input,{onChange:handleInputChange,name:\"author\",placeholder:\"Author (required)\",value:formObject.author}),/*#__PURE__*/React.createElement(TextArea,{onChange:handleInputChange,name:\"synopsis\",placeholder:\"Synopsis (Optional)\",value:formObject.synopsis}),/*#__PURE__*/React.createElement(FormBtn,{disabled:!(formObject.author&&formObject.title),onClick:handleFormSubmit},\"Submit Book\"))),/*#__PURE__*/React.createElement(Col,{size:\"md-6 sm-12\"},/*#__PURE__*/React.createElement(Jumbotron,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Books On My List\")),books.length?/*#__PURE__*/React.createElement(List,null,books.map(function(book){return/*#__PURE__*/React.createElement(ListItem,{key:book._id},/*#__PURE__*/React.createElement(Link,{to:\"/books/\"+book._id},/*#__PURE__*/React.createElement(\"strong\",null,book.title,\" by \",book.author)),/*#__PURE__*/React.createElement(DeleteBtn,{onClick:function onClick(){return deleteBook(book._id);}}));})):/*#__PURE__*/React.createElement(\"h3\",null,\"No Results to Display\"))));}export default Books;","map":{"version":3,"sources":["/Users/Daniel/Desktop/UTA-AUS-FSF-FT-12-2020-U-C/21-MERN/01-Activities/05-Stu_ReactRouter/Unsolved/client/src/pages/Books.js"],"names":["React","useState","useEffect","DeleteBtn","Jumbotron","API","Link","Col","Row","Container","List","ListItem","Input","TextArea","FormBtn","Books","books","setBooks","title","author","synopsis","formObject","setFormObject","loadBooks","getBooks","then","res","data","catch","err","console","log","deleteBook","id","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault","saveBook","length","map","book","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport DeleteBtn from \"../components/DeleteBtn\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport API from \"../utils/API\";\nimport { Link } from \"react-router-dom\";\nimport { Col, Row, Container } from \"../components/Grid\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, TextArea, FormBtn } from \"../components/Form\";\n\nfunction Books() {\n  const [books, setBooks] = useState([])\n  const [formObject, setFormObject] = useState({\n    title: \"\",\n    author: \"\",\n    synopsis: \"\"\n  })\n\n  useEffect(() => {\n    loadBooks()\n  }, [])\n\n  function loadBooks() {\n    API.getBooks()\n      .then(res => \n        setBooks(res.data)\n      )\n      .catch(err => console.log(err));\n  };\n\n  function deleteBook(id) {\n    API.deleteBook(id)\n      .then(res => loadBooks())\n      .catch(err => console.log(err));\n  }\n\n  function handleInputChange(event) {\n    const { name, value } = event.target;\n    setFormObject({...formObject, [name]: value})\n  };\n\n  function handleFormSubmit(event) {\n    event.preventDefault();\n    if (formObject.title && formObject.author) {\n      API.saveBook({\n        title: formObject.title,\n        author: formObject.author,\n        synopsis: formObject.synopsis\n      }).then(() => setFormObject({\n        title: \"\",\n        author: \"\",\n        synopsis: \"\"\n      })).then(res => loadBooks())\n        .catch(err => console.log(err));\n    }\n  };\n\n  function deleteBook(id) {\n    // add code here to remove a book using API\n    API.deleteBook(id).then(res => loadBooks()).catch(err => console.log(err));\n  }\n\n    return (\n      <Container fluid>\n        <Row>\n          <Col size=\"md-6\">\n            <Jumbotron>\n              <h1>What Books Should I Read?</h1>\n            </Jumbotron>\n            <form>\n              <Input\n                onChange={handleInputChange}\n                name=\"title\"\n                placeholder=\"Title (required)\"\n                value={formObject.title}\n              />\n              <Input\n                onChange={handleInputChange}\n                name=\"author\"\n                placeholder=\"Author (required)\"\n                value={formObject.author}\n              />\n              <TextArea\n                onChange={handleInputChange}\n                name=\"synopsis\"\n                placeholder=\"Synopsis (Optional)\"\n                value={formObject.synopsis}\n              />\n              <FormBtn\n                disabled={!(formObject.author && formObject.title)}\n                onClick={handleFormSubmit}\n              >\n                Submit Book\n              </FormBtn>\n            </form>\n          </Col>\n          <Col size=\"md-6 sm-12\">\n            <Jumbotron>\n              <h1>Books On My List</h1>\n            </Jumbotron>\n            {books.length ? (\n              <List>\n                {books.map(book => (\n                  <ListItem key={book._id}>\n                    <Link to={\"/books/\" + book._id}>\n                      <strong>\n                        {book.title} by {book.author}\n                      </strong>\n                    </Link>\n                    <DeleteBtn onClick={() => deleteBook(book._id)} />\n                  </ListItem>\n                ))}\n              </List>\n            ) : (\n              <h3>No Results to Display</h3>\n            )}\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n\n\nexport default Books;\n"]},"metadata":{},"sourceType":"module"}